"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9843],{7936:function(e,l){l.Z={src:"/_next/static/media/success_anime.43cd7380.gif",height:674,width:674,blurWidth:0,blurHeight:0}},5727:function(e,l,s){s.d(l,{Z:function(){return h}});var t=s(5893),a=s(7294),i=s(511),r={src:"/_next/static/media/secure.566513b9.png",height:450,width:490,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/Af+xsQHueb//+rh1PQPN1m/+CQYN/S8oqBoZF5/T//8AAe20vgD9w9Z8AP79gv7v8gEIAgEAABcP+fwQDYAEHhOIAebe4UMFlK688NLcAAhaPf0SAwUBAcLNAvwTEevhbmMmAebv7oMGjaZg+QX+HBBhUv4G/wD//qmxA/j4/crsfW1bAef08n8CtcMtC+HmUwZjU/4D/v4B/KSuAfEPEXj6YVSzAejk5DL9Cwo0CaW2VQTb3UQFBgIA+RkanPFuXpII5uj/Aejw7gAC+voQ9hUVHA6fr07+AgH7819Sswrn5v/+/wHpN25ygl6+lDUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7},n=s(5675),c=s.n(n),o=s(2982),d=s(3439),u=s(5202),p=s(9655);let m={user:0,upi:1,otp:2};var h=e=>{let{isVisible:l,handleBackdropClick:s,subscription:n,handleSuccess:h,isTrialPlan:b}=e,[f,x]=(0,a.useState)([{label:"Email/ Phone number",fieldname:"email",placeholder:"Email or phone number",value:"",id:2,keyboardType:"default",error:null,isRequired:!0,emptyErrorMessage:"Email or phone number is required. Please provide your email address or phone number.",inputWidthSize:"12"},{label:"UPI ID",fieldname:"upiId",placeholder:"johndoe@ybl",value:"",id:3,keyboardType:"default",error:null,isRequired:!0,emptyErrorMessage:"UPI ID is required. Please provide a valid UPI ID.",inputWidthSize:"12"},{label:"OTP",fieldname:"otp",placeholder:"****",value:"",id:2,keyboardType:"number",error:null,isRequired:!0,emptyErrorMessage:"Please enter a valid OTP to authenticate your purchase.",inputWidthSize:"12",isInputHidden:!0}]),[v,g]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(""),[q,P]=(0,a.useState)(!1),[A,I]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),[L,k]=(0,a.useState)(30),[S,O]=(0,a.useState)(null),[R,T]=(0,a.useState)(2),{apiPost:H}=(0,p.kL)(),{emailValidation:D,phoneValidation:M,returnErrorTexts:U,upiValidation:Z}=(0,p.V$)(),B=(e,l)=>{let s=[...f];s[l].value=e,s[l].error=null,x(s)},W=e=>!!e&&/^\d+$/.test(e),F=async e=>W(e)?await M(e)?{type:"PHONE",userId:e,userError:!1}:{type:"PHONE",userId:e,userError:!0}:await D(e)?{type:"EMAIL",userId:e,userError:!1}:{type:"EMAIL",userId:e,userError:!0},Q=async()=>{let e=await F(f[m.user].value),l=await Z(f[m.upi].value);if(!e.userError&&l){var s,t,a,i;let l;let r="".concat(u.kh.qfferAPI,"/subscription/sendOTP/").concat(e.type),n=JSON.stringify({singleValueRequest:{value:"EMAIL"===e.type?e.userId:"91".concat(e.userId)},upiId:f[m.upi].value,platform:"PHONEPE"});try{l=await H(r,n)}catch(e){console.log("Error: ",e),j("Oops! Something went wrong. Please try again after some time."),g(!1)}(null===(t=l)||void 0===t?void 0:null===(s=t.message)||void 0===s?void 0:s.toLowerCase())==="success"?(console.log("response: ",l),N(e),G()):(null===(i=l)||void 0===i?void 0:null===(a=i.message)||void 0===a?void 0:a.toLowerCase())==="failure"&&l.body?j(l.body):j("Something went wrong! Please try again after some time."),g(!1)}else{let s=[...f];"EMAIL"===e.type?s[m.user].error=await U(e.userId,"email"):"PHONE"===e.type&&(s[m.user].error=await U(e.userId,"phone")),l||(s[m.upi].error=await U(e.upi,"upi")),x(s),g(!1)}},V=async()=>{let e=await F(f[m.user].value);if(W(f[m.otp].value)&&4===f[m.otp].value.length){var l,s,t,a;let i;let r="".concat(u.kh.qfferAPI,"/subscription/verifyOTPAndSubscribe/").concat(e.type,"?otp=").concat(f[m.otp].value),c=JSON.stringify({phone:"PHONE"===e.type?"91".concat(e.userId):null,email:"EMAIL"===e.type?e.userId:null,subscriptionPlatform:"PHONEPE",platformPlanId:n.platformId,planId:n.planId,status:"PENDING",upiId:f[m.upi].value,isTrialPlan:b});try{i=await H(r,c)}catch(e){console.log("Error: ",e),j("Oops! Something went wrong. Please try again after some time."),g(!1)}(null===(s=i)||void 0===s?void 0:null===(l=s.message)||void 0===l?void 0:l.toLowerCase())==="success"?(console.log("response: ",i),h(i.body)):(null===(a=i)||void 0===a?void 0:null===(t=a.message)||void 0===t?void 0:t.toLowerCase())==="failure"&&i.body?j(i.body):j("Something went wrong! Please try again after some time."),g(!1)}else{let e=[...f];e[m.otp].error="Invalid OTP format. Please enter a valid OTP.",x(e),g(!1)}},z=async()=>{let e=await F(f[m.user].value),l="".concat(u.kh.qfferAPI,"/subscription/sendOTP/").concat(e.type),s=JSON.stringify({singleValueRequest:{value:"EMAIL"===e.type?e.userId:"91".concat(e.userId)},upiId:f[m.upi].value,platform:"PHONEPE"});try{await H(l,s)}catch(e){console.log("Error: ",e)}},Y=()=>{let e=!0;return f.forEach(l=>{!l.isRequired||l.isInputHidden||l.value||(e=!1)}),!e},_=(0,a.useMemo)(()=>Y(),[f]),G=()=>{let e=[...f];e[m.user].isInputHidden=!0,e[m.upi].isInputHidden=!0,e[m.otp].isInputHidden=!1,x([...e]),P(!0)},K=()=>{x([{label:"Email/ Phone number",fieldname:"email",placeholder:"Email or phone number",value:"",id:2,keyboardType:"default",error:null,isRequired:!0,emptyErrorMessage:"Email or phone number is required. Please provide your email address or phone number.",inputWidthSize:"12"},{label:"UPI ID",fieldname:"upiId",placeholder:"johndoe@ybl",value:"",id:3,keyboardType:"default",error:null,isRequired:!0,emptyErrorMessage:"UPI ID is required. Please provide a valid UPI ID.",inputWidthSize:"12"},{label:"OTP",fieldname:"otp",placeholder:"****",value:"",id:2,keyboardType:"number",error:null,isRequired:!0,emptyErrorMessage:"Please enter a valid OTP to authenticate your purchase.",inputWidthSize:"12",isInputHidden:!0}]),g(!1),j(null),P(!1),I(!1),E(!1),k(30),O(null),T(2)},J=()=>{let e;try{e=setInterval(()=>{k(e=>e-1)},1e3),O(e),E(!1)}catch(l){clearInterval(e)}};return(0,a.useEffect)(()=>{C&&J()},[C]),(0,a.useEffect)(()=>{q&&1===L&&S?(clearInterval(S),I(!0)):q&&30===L&&(E(!0),I(!1))},[L,q]),(0,a.useEffect)(()=>{l&&K()},[l]),(0,t.jsx)(i.Z,{isVisible:l,handleBackdropClick:s,children:(0,t.jsxs)("div",{className:"w-100 d-flex flex-column position-relative",children:[(0,t.jsx)("div",{className:"qb-close-btn-wrap position-absolute d-flex align-items-center justify-content-center",onClick:s,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.55806 4.55806C4.80214 4.31398 5.19786 4.31398 5.44194 4.55806L10 9.11612L14.5581 4.55806C14.8021 4.31398 15.1979 4.31398 15.4419 4.55806C15.686 4.80214 15.686 5.19786 15.4419 5.44194L10.8839 10L15.4419 14.5581C15.686 14.8021 15.686 15.1979 15.4419 15.4419C15.1979 15.686 14.8021 15.686 14.5581 15.4419L10 10.8839L5.44194 15.4419C5.19786 15.686 4.80214 15.686 4.55806 15.4419C4.31398 15.1979 4.31398 14.8021 4.55806 14.5581L9.11612 10L4.55806 5.44194C4.31398 5.19786 4.31398 4.80214 4.55806 4.55806Z",fill:"#080A0A"})})}),(0,t.jsx)("div",{className:"qb-modal-overflow-wrapper",children:(0,t.jsxs)("div",{className:"qb-modal-scroll-container d-flex flex-column p-5",children:[(0,t.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.jsx)(c(),{src:r,alt:"success",className:"qb-secure-illustration"})}),(0,t.jsx)("h3",{className:"qb-title mb-0 pb-2 pt-3",children:"Authenticate and purchase"}),(0,t.jsx)("p",{className:"qb-desc mb-0 pb-4",children:q?"Please enter the 4 digit OTP sent to ".concat(null==w?void 0:w.userId," and confirm your purchase."):"Use your registered email address or phone number to verify your identity and your UPI ID to create an autopay request."}),(0,t.jsx)("div",{className:"container px-0",children:(0,t.jsxs)("div",{className:"row gy-3",children:[f.map((e,l)=>e.isInputHidden?null:(0,t.jsx)("div",{className:"col-12 col-lg-".concat(e.inputWidthSize),children:(0,t.jsx)(d.Wz,{value:e.value,id:e.id,index:l,label:e.label,placeholder:e.placeholder,fieldname:e.fieldname,error:e.error,isRequired:e.isRequired,fieldType:e.keyboardType,isDisabled:e.isDisabled,onChange:B})},"input-".concat(l))),q?(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"d-flex align-items-center qb-resend-wrap",children:[(0,t.jsx)("p",{className:"qb-tag pe-2 mb-0",children:"Didnâ€™t receive OTP?"}),(0,t.jsxs)("a",{className:A&&R?"qb-link qb-resend-otp-link d-flex align-items-center":"qb-link qb-resend-otp-link d-flex align-items-center qb-link-disabled",onClick:()=>{A&&R>0?(k(30),T(e=>e-1),z()):0===R&&j("You've reached the maximum OTP resend attempts. Please try again later.")},children:["Resend OTP ",(0,t.jsx)("span",{className:"qb-counter-wrap ps-1",children:A?" (".concat(R," ").concat(1===R?"try":"tries"," remaining)"):" (".concat(L,"s)")})]})]})}):null,(null==y?void 0:y.length)?(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("p",{className:"qb-input-error-message mt-1 qb-general-error qb-error-active",children:y})}):null,(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"w-100 pt-md-3 pt-3 d-flex align-items-center justify-content-end",children:(0,t.jsx)("div",{className:"d-flex",children:(0,t.jsx)(o.Z,{id:"qb-profile-btn",isDisabled:_,isLoading:v,onDisabledClick:()=>{let e=[...f];f.forEach((l,s)=>{!l.isRequired||l.isInputHidden||l.value||(e[s].error=l.emptyErrorMessage?l.emptyErrorMessage:"Required field. Please fill this field to continue.")}),x([...e])},onClick:()=>{g(!0),j(null),q?V():Q()},children:(0,t.jsxs)(t.Fragment,{children:[q?"Verify and purchase":"Get OTP",(0,t.jsx)("span",{className:"qb-btn-loader ms-2"})]})})})})})]})})]})})]})})}},6367:function(e,l,s){s.d(l,{Z:function(){return p}});var t=s(5893),a=s(7294),i=s(511),r=s(7936),n=s(5494),c=e=>{let{progress:l,progressValue:s,progressColor:a="#E64980"}=e;return(0,t.jsx)("div",{className:"qb-circular-bar-wrapper d-flex align-items-center justify-content-center",style:{background:"conic-gradient(".concat(a," ").concat(3.6*l,"deg, #FF878720 0deg)")},children:(0,t.jsx)("div",{className:"qb-circular-inner-circle d-flex align-items-center justify-content-center",children:(0,t.jsx)("p",{className:"qb-progress-indicator mb-0",children:s})})})},o=s(5675),d=s.n(o),u=s(6264),p=e=>{let{isVisible:l,handleBackdropClick:s,status:o,modalStatusEnum:p,checkPaymentStatus:m,setPaymentToInactive:h}=e,[b,f]=(0,a.useState)(0),[x,v]=(0,a.useState)(0),[g,y]=(0,a.useState)("02:00"),[j,w]=(0,a.useState)(null),[N,q]=(0,a.useState)(!1),P=()=>{let e=Number(g.slice(0,2)),l=Number(g.slice(3,5)),s=(120-b)/120*100;0===l?(e-=1,l=59):l-=1,0===e&&0===l&&(h(),clearInterval(j)),!(0===e&&0===l)&&e<2&&(45===l||30===l||15===l||0===l)&&m();let t="".concat(e>9?e:"0".concat(e),":").concat(l>9?l:"0".concat(l));v(s),y(t)},A=()=>{let e;try{e=setInterval(()=>{f(e=>e-1)},1e3),w(e),q(!1)}catch(l){clearInterval(e)}},I=()=>{j&&clearInterval(j),y("02:00"),v(0),f(0)},C=()=>{f(120)};return(0,a.useEffect)(()=>{b&&120!=b?P():120===b&&q(!0)},[b]),(0,a.useEffect)(()=>{N&&A()},[N]),(0,a.useEffect)(()=>{l&&o===p.upiProcessing?C():I()},[o,l]),(0,t.jsx)(i.Z,{isVisible:l,handleBackdropClick:s,children:(0,t.jsx)("div",{className:"w-100 p-5 d-flex flex-column position-relative qb-subscription-status-modal",children:o===p.loading?(0,t.jsx)("div",{className:"w-100 flex-fill d-flex align-items-center justify-content-center",children:(0,t.jsx)("div",{className:"qb-status-loader d-flex"})}):o===p.upiProcessing?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"qb-title mb-0 pb-2 pt-3",children:"Complete payment"}),(0,t.jsx)("p",{className:"qb-desc mb-0 pb-4",children:"The subscription autopay request has been sent to your UPI ID. Please use your default UPI app to complete the payment. Once the payment is processed, your subscription will be activated automatically."}),(0,t.jsx)("div",{className:"w-100 py-4 d-flex justify-content-center",children:(0,t.jsx)(c,{progress:x,progressValue:g})}),(0,t.jsxs)("p",{className:"qb-warning-text mb-0 pb-2 pt-3 text-center",children:["This will automatically expire in ",g,"min"]}),(0,t.jsx)("p",{className:"qb-warning-text mb-0 text-center fw-bold",children:"Please DO NOT hit back button or refresh the page."})]}):o===p.success?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"qb-close-btn-wrap position-absolute d-flex align-items-center justify-content-center",onClick:s,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.55806 4.55806C4.80214 4.31398 5.19786 4.31398 5.44194 4.55806L10 9.11612L14.5581 4.55806C14.8021 4.31398 15.1979 4.31398 15.4419 4.55806C15.686 4.80214 15.686 5.19786 15.4419 5.44194L10.8839 10L15.4419 14.5581C15.686 14.8021 15.686 15.1979 15.4419 15.4419C15.1979 15.686 14.8021 15.686 14.5581 15.4419L10 10.8839L5.44194 15.4419C5.19786 15.686 4.80214 15.686 4.55806 15.4419C4.31398 15.1979 4.31398 14.8021 4.55806 14.5581L9.11612 10L4.55806 5.44194C4.31398 5.19786 4.31398 4.80214 4.55806 4.55806Z",fill:"#080A0A"})})}),(0,t.jsxs)("div",{className:"w-100 flex-fill",children:[(0,t.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.jsx)(d(),{src:r.Z,alt:"success",className:"qb-secure-illustration"})}),(0,t.jsx)("h3",{className:"qb-title mb-0 pb-2 pt-3 text-center",children:"Purchase Complete"}),(0,t.jsx)("p",{className:"qb-desc mb-0 pb-4 text-center",children:"You have successfully completed the purchase. Download Qubriux app and reach out to your customers today."}),(0,t.jsx)("div",{className:"d-flex flex-column align-items-center",children:(0,t.jsx)(u.g,{id:"download-qb-btn",onClick:()=>{let e="https://play.google.com/store/apps/details?id=com.skellam.qubriux",l=window.navigator?window.navigator.userAgent:null;console.log(l),l&&(/iPhone/.test(l)||/iPad/.test(l)||/Mac/.test(l))&&(e="https://apps.apple.com/in/app/qubriux/id1660766287"),window.location.href=e},children:"Download"})})]})]}):o===p.error?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"qb-close-btn-wrap position-absolute d-flex align-items-center justify-content-center",onClick:s,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.55806 4.55806C4.80214 4.31398 5.19786 4.31398 5.44194 4.55806L10 9.11612L14.5581 4.55806C14.8021 4.31398 15.1979 4.31398 15.4419 4.55806C15.686 4.80214 15.686 5.19786 15.4419 5.44194L10.8839 10L15.4419 14.5581C15.686 14.8021 15.686 15.1979 15.4419 15.4419C15.1979 15.686 14.8021 15.686 14.5581 15.4419L10 10.8839L5.44194 15.4419C5.19786 15.686 4.80214 15.686 4.55806 15.4419C4.31398 15.1979 4.31398 14.8021 4.55806 14.5581L9.11612 10L4.55806 5.44194C4.31398 5.19786 4.31398 4.80214 4.55806 4.55806Z",fill:"#080A0A"})})}),(0,t.jsxs)("div",{className:"w-100 flex-fill",children:[(0,t.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.jsx)(d(),{src:n.Z,alt:"success",className:"qb-secure-illustration"})}),(0,t.jsx)("h3",{className:"qb-title mb-0 pb-2 pt-3 text-center",children:"Oops!"}),(0,t.jsx)("p",{className:"qb-desc mb-0 pb-4 text-center",children:"We are facing some technical difficulties right now. Please try again later or reach out to our team for any assistance."}),(0,t.jsx)("div",{className:"d-flex flex-column align-items-center",children:(0,t.jsx)("a",{className:"qb-link-btn qb-ghost-btn qb-btn",id:"download-qb-btn",href:"mailto:cs@qubriux.com",children:"Reach out"})})]})]}):o===p.paymentFailed?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"qb-close-btn-wrap position-absolute d-flex align-items-center justify-content-center",onClick:s,children:(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.55806 4.55806C4.80214 4.31398 5.19786 4.31398 5.44194 4.55806L10 9.11612L14.5581 4.55806C14.8021 4.31398 15.1979 4.31398 15.4419 4.55806C15.686 4.80214 15.686 5.19786 15.4419 5.44194L10.8839 10L15.4419 14.5581C15.686 14.8021 15.686 15.1979 15.4419 15.4419C15.1979 15.686 14.8021 15.686 14.5581 15.4419L10 10.8839L5.44194 15.4419C5.19786 15.686 4.80214 15.686 4.55806 15.4419C4.31398 15.1979 4.31398 14.8021 4.55806 14.5581L9.11612 10L4.55806 5.44194C4.31398 5.19786 4.31398 4.80214 4.55806 4.55806Z",fill:"#080A0A"})})}),(0,t.jsxs)("div",{className:"w-100 flex-fill",children:[(0,t.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.jsx)(d(),{src:n.Z,alt:"success",className:"qb-secure-illustration"})}),(0,t.jsx)("h3",{className:"qb-title mb-0 pb-2 pt-3 text-center",children:"Payment not completed"}),(0,t.jsx)("p",{className:"qb-desc mb-0 pb-4 text-center",children:"Oops! We were unable to detect any payments made against the subscribtion. Please reach out if you have already completed the payment."}),(0,t.jsx)("div",{className:"d-flex flex-column align-items-center",children:(0,t.jsx)("a",{className:"qb-link-btn qb-ghost-btn qb-btn",id:"download-qb-btn",href:"mailto:cs@qubriux.com",children:"Reach out"})})]})]}):null})})}},2897:function(e,l,s){var t=s(5893),a=s(7294);l.Z=()=>{let[e,l]=(0,a.useState)("2021");return(0,a.useEffect)(()=>{l(new Date().getFullYear())},[]),(0,t.jsx)("footer",{className:"qb-static-footer-wrap container-fluid px-0",children:(0,t.jsxs)("div",{className:"qb-static-footer container-fluid px-5 py-4",children:[(0,t.jsxs)("div",{className:"d-flex flex-column flex-fill py-2",children:[(0,t.jsxs)("h5",{className:"qb-footer mb-0 fw-bold",children:["Qffer \xa9 ",e]}),(0,t.jsxs)("p",{className:"qb-footer mb-0",children:["Powered by ",(0,t.jsx)("a",{href:"https://qubriux.com/",className:"qb-footer-link",children:"Qubriux India Pvt. Ltd."})," | All rights reserved."]})]}),(0,t.jsxs)("div",{className:"d-flex align-items-end justify-content-end pt-3 pt-md-2 pb-2",children:[(0,t.jsx)("div",{className:"pe-md-3 pe-2",children:(0,t.jsx)("a",{href:"/about/contact",className:"qb-footer-link",children:"Contact us"})}),(0,t.jsx)("div",{className:"px-md-3 px-2",children:(0,t.jsx)("a",{href:"/policy/cancellation-and-refund",className:"qb-footer-link",children:"Refund policy"})}),(0,t.jsx)("div",{className:"px-md-3 px-2",children:(0,t.jsx)("a",{href:"/policy/terms",className:"qb-footer-link",children:"Terms of use"})}),(0,t.jsx)("div",{className:"ps-md-3 ps-2",children:(0,t.jsx)("a",{href:"/policy/privacy",className:"qb-footer-link",children:"Privacy policy"})})]})]})})}}}]);