(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[256],{5479:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/internal/store/detail",function(){return l(505)}])},505:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return N}});var i=l(5893),a=l(7294),c=l(172),t=l(6264),n=l(5202),o=l(5675),r=l.n(o),d=e=>{let{data:s,onStatusChange:l}=e,[c,o]=(0,a.useState)(null),d=()=>{o(JSON.parse(s.addressLocationJson))};return(0,a.useEffect)(()=>{(null==s?void 0:s.addressLocationJson)&&d()},[s]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"d-flex flex-column flex-xl-row align-items-stretch align-items-xl-end pb-3 pb-lg-4 justify-content-between",children:[(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"qb-i-store-logo-wrap position-relative d-none d-sm-flex",children:s.logoUrl?(0,i.jsx)(r(),{src:s.logoUrl,fill:!0,alt:"store logo",className:"qb-i-store-logo"}):null}),(0,i.jsxs)("div",{className:"ps-3",children:[(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("h1",{className:"mb-0 qb-i-store-name",children:s.storeName?s.storeName:"- -"}),(0,i.jsx)("div",{className:"d-none d-md-flex ps-md-2",children:s.isQfferEnabled&&s.isStoreReviewDone?(0,i.jsx)("div",{className:"qb-i-store-status-badge qb-i-store-status-active",children:"Active"}):(0,i.jsx)("div",{className:"qb-i-store-status-badge",children:"Inactive"})})]}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-tags pb-2 pb-md-0",children:s.chainTags?s.chainTags:"- -"}),(0,i.jsx)("div",{className:"d-flex d-md-none",children:s.isQfferEnabled&&s.isStoreReviewDone?(0,i.jsx)("div",{className:"qb-i-store-status-badge qb-i-store-status-active",children:"Active"}):(0,i.jsx)("div",{className:"qb-i-store-status-badge",children:"Inactive"})})]})]}),(0,i.jsx)("div",{className:"d-flex align-items-center justify-content-end pt-3 pt-md-none",children:(0,i.jsx)("div",{className:"ps-1 ps-md-2",children:(0,i.jsx)(t.K,{onClick:()=>{let e=s.isQfferEnabled&&s.isStoreReviewDone?"deactivate":"activate";l(s.storeId,s.storeName,e)},children:s.isQfferEnabled&&s.isStoreReviewDone?"Deactivate":"Activate"})})})]}),(0,i.jsx)("div",{className:"qb-basic-card-wrap p-3 p-lg-4 d-flex flex-column",children:(0,i.jsx)("div",{className:"contianer-fluid px-0 py-3",children:(0,i.jsxs)("div",{className:"row gx-4 gy-4",children:[(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("h2",{className:"mb-0 qb-i-store-info-section-title",children:"Chain Details"})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-lg-4",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Name"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.chainName?s.chainName:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-lg-4",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Email"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.chainEmail?s.chainEmail:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-lg-4",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Phone Number"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.chainManagerPhone?"+".concat(s.chainManagerPhone):"- -"})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("h2",{className:"mb-0 qb-i-store-info-section-title pt-3 pt-lg-4",children:"Store Details"})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Name"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.storeName?s.storeName:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Email"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.storeEmail?s.storeEmail:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Manager Name"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.storeManagerName?s.storeManagerName:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Phone Number"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.storeManagerPhone?"+".concat(s.storeManagerPhone):"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Category"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.chainCategory&&n.kh.storeCategories[s.chainCategory]?n.kh.storeCategories[s.chainCategory]:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Short Location"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:(null==c?void 0:c.shortLocation)?c.shortLocation:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-6",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Tags"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.chainTags?s.chainTags:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-lg-6",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Address"}),(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc",children:s.locationDescription?s.locationDescription:"- -"})]})}),(0,i.jsx)("div",{className:"col-12 col-xl-6",children:(0,i.jsxs)("div",{className:"d-flex flex-column",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Google Map Link"}),(null==c?void 0:c.locationUrl)?(0,i.jsxs)("a",{href:c.locationUrl,target:"_blank",rel:"noopener noreferrer",className:"mb-0 qb-i-store-info-link d-flex align-items-center",children:[(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc pe-1",children:c.locationUrl}),(0,i.jsx)("div",{children:(0,i.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M13.5 9.75V14.25C13.5 14.6478 13.342 15.0294 13.0607 15.3107C12.7794 15.592 12.3978 15.75 12 15.75H3.75C3.35218 15.75 2.97064 15.592 2.68934 15.3107C2.40804 15.0294 2.25 14.6478 2.25 14.25V6C2.25 5.60218 2.40804 5.22064 2.68934 4.93934C2.97064 4.65804 3.35218 4.5 3.75 4.5H8.25M11.25 2.25H15.75M15.75 2.25V6.75M15.75 2.25L7.5 10.5",stroke:"#090A0A","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"})})})]}):(0,i.jsx)("p",{className:"mb-0 qb-i-store-info-desc pe-1",children:"- -"})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("h2",{className:"mb-0 qb-i-store-info-section-title pt-3 pt-lg-4",children:"Branding Details"})}),(0,i.jsx)("div",{className:"col-8 col-md-4 col-lg-3 col-xl-2",children:(0,i.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Logo"}),(0,i.jsx)("div",{className:"qb-i-store-info-logo-wrap position-relative",children:s.logoUrl?(0,i.jsx)(r(),{src:s.logoUrl,fill:!0,alt:"store logo",className:"qb-i-store-branding-img"}):null})]})}),(0,i.jsx)("div",{className:"col-12 col-md-8 col-lg-6 col-xl-4",children:(0,i.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"Store front display image"}),(0,i.jsx)("div",{className:"qb-i-store-info-thumbnail-wrap position-relative",children:s.shopThumbnailUrl?(0,i.jsx)(r(),{src:s.shopThumbnailUrl,fill:!0,alt:"store logo",className:"qb-i-store-branding-img"}):null})]})}),(0,i.jsx)("div",{className:"col-6 col-md-3 col-lg-2",children:(0,i.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,i.jsx)("h3",{className:"mb-0 pb-2 qb-i-store-info-title",children:"UPI QR code"}),(0,i.jsx)("div",{className:"qb-i-store-info-logo-wrap position-relative",children:s.upiQRCodeUrl?(0,i.jsx)(r(),{src:s.upiQRCodeUrl,fill:!0,alt:"store logo",className:"qb-i-store-branding-img"}):null})]})})]})})})]})},m=l(9218),h=l(2838),x=l(9655),b=l(1096),f=l(9585),v=l(2388),N=()=>{let[e,s]=(0,a.useState)(null),[l,t]=(0,a.useState)(!0),[o,N]=(0,a.useState)(null),[j,g]=(0,a.useState)(!1),[u,p]=(0,a.useState)({title:"",message:"",btnText:""}),{internalUser:q}=(0,h.ZP)(),{apiPut:w,apiGet:y}=(0,x.kL)(),{triggerToast:C}=(0,b.ZP)(),{getUrlQueries:k}=(0,x.ZN)(),S=()=>{g(!1)},E=async(e,s,l)=>{var i;let a;t(!0);let c="".concat(n.kh.qfferAPI,"/internal/1/store/details/").concat(e),o=JSON.stringify({storeId:e,isQfferEnabled:"activate"===l,isStoreReviewDone:"activate"===l});try{a=await w(c,o,null,null,null==q?void 0:q.accessToken)}catch(e){console.log(e),t(!1)}(null===(i=a)||void 0===i?void 0:i.message)&&"success"===a.message?C("Store ".concat("activate"===l?"Activated":"Deactivated"),"Yaay! ".concat(s," has been successfully ").concat("activate"===l?"activated":"deactivated","."),"SUCCESS"):C("".concat("activate"===l?"Activation":"Deactivation"," failed"),"Oops! we were not able to ".concat("activate"===l?"activate":"deactivate"," ").concat(s," due to some glitch."),"ERROR"),t(!1)},D=async e=>{var l,i;let a;let c=e?Number(e):o;t(!0);let r="".concat(n.kh.qfferAPI,"/internal/1/store/details/").concat(c);try{a=await y(r,null,null,null==q?void 0:q.accessToken)}catch(e){console.log(e),t(!1)}(null===(l=a)||void 0===l?void 0:l.message)&&"success"===a.message&&(null===(i=a)||void 0===i?void 0:i.body)&&(s(a.body),N(a.body.storeId)),t(!1)},T=async()=>{let e=await k(window.location.href);(null==e?void 0:e.id)?D(e.id):window.location.href="/internal/stores?type=pending"};return(0,a.useEffect)(()=>{q&&T()},[q]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{children:l?(0,i.jsx)("div",{className:"w-100 d-flex align-items-center justify-content-center qb-internal-store-content-min-height",children:(0,i.jsx)(f.Z,{})}):e?(0,i.jsx)("div",{className:"qb-page-overflow-wrapper qb-internal-store-detail-wrap",children:(0,i.jsx)("div",{className:"qb-page-scroll-container",children:(0,i.jsx)("div",{className:"px-4 px-lg-5 py-4 py-lg-5 d-flex flex-column",children:(0,i.jsx)(d,{data:e,onStatusChange:(e,s,l)=>{p({title:"Confirm ".concat("activate"===l?"Activation":"Deactivation"),message:"Are you sure you want to change the activation status of ".concat(s," to ").concat("activate"===l?"active":"inactive","?"),btnText:"".concat("activate"===l?"Activate":"Deactivate"),id:e,name:s,type:l}),g(!0)}})})})}):(0,i.jsxs)("div",{className:"w-100 d-flex align-items-center justify-content-center flex-column qb-internal-store-content-min-height",children:[(0,i.jsx)(r(),{src:v.Z,alt:"empty",className:"qb-empty-illustration"}),(0,i.jsx)("h5",{className:"qb-error-message pt-3 text-center",children:"Oops! We were not able to find the store details for you."})]})}),(0,i.jsx)(m.Z,{isVisible:j,title:null==u?void 0:u.title,message:null==u?void 0:u.message,btnText:null==u?void 0:u.btnText,btnAction:()=>{let{id:e,name:s,type:l}=u;E(e,s,l),S()},handleBackdropClick:S})]})}}},function(e){e.O(0,[8977,9774,2888,179],function(){return e(e.s=5479)}),_N_E=e.O()}]);