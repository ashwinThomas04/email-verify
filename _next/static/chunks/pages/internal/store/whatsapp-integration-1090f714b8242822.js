(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3192],{1755:function(n,e,t){"use strict";var o=t(7294),r=o&&"object"==typeof o&&"default"in o?o.default:o,a=null,i=null,c=function(n,e){n.origin==e&&"object"!=typeof n.data&&(window.location.search=""+n.data)},s=["className","partnerId","callback","requestedNumber","label","env","queryParameters"];e.ConnectButton=function(n){var e=n.className,t=n.partnerId,u=n.callback,l=n.requestedNumber,d=n.label,f=void 0===d?"Connect 360dialog":d,p=n.env,w=void 0===p?"prod":p,h=n.queryParameters,b=function(n,e){if(null==n)return{};var t,o,r={},a=Object.keys(n);for(o=0;o<a.length;o++)e.indexOf(t=a[o])>=0||(r[t]=n[t]);return r}(n,s),g=o.useState(""),v=g[0],m=g[1],k=function(n,e){var t=RegExp("[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(n);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};return o.useEffect(function(){m(function(){var n=("local"===w?"http://0.0.0.0:8082":"staging"===w&&"https://admin.hub-staging.360dialog.io")||"rc"===w&&"https://rc-admin.360dialog.io"||"https://hub.360dialog.com",e=l?n+"/dashboard/app/"+t+"/permissions?number="+l:n+"/dashboard/app/"+t+"/permissions";if(h){var o=Object.values(h).map(function(n){return n?encodeURIComponent(n):""});o&&Object.keys(h).forEach(function(n,t){e=0!==t||l?e+"&"+n+"="+o[t]:e+"?"+n+"="+o[t]})}return e}())},[w,l,h]),o.useEffect(function(){var n=window.location.search,e=k(n,"client"),t=k(n,"channels"),o=k(n,"revoked");if(e&&t){var r={client:e,channels:t.substring(1,t.length-1).split(",")};if(o){var a=o.substring(1,o.length-1).split(",");r.revokedChannels=a}u(r)}window.opener&&(window.opener.postMessage(n),window.close())},[]),r.createElement("button",Object.assign({className:e||"360dialog-connect-button",onClick:function(){var n,e,t;return n="connect-360dialog",e=window.location.origin,window.removeEventListener("message",c),t="toolbar=no, menubar=no, width=600, height=900, top=100, left=100",void(null===a||a.closed?a=window.open(v,n,t):i!==v?(a=window.open(v,n,t)).focus():a.focus(),window.addEventListener("message",function(n){return c(n,e)},!1),i=v)}},b),f)}},9540:function(n,e,t){"use strict";n.exports=t(1755)},1198:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/internal/store/whatsapp-integration",function(){return t(9369)}])},9369:function(n,e,t){"use strict";t.r(e),t(5893);var o=t(9540);t(7294);var r=t(5202);e.default=()=>{o.ConnectButton,r.kh.partnerId360}}},function(n){n.O(0,[9774,2888,179],function(){return n(n.s=1198)}),_N_E=n.O()}]);