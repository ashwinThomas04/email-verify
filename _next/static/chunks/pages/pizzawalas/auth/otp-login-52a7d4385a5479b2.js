(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{6566:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pizzawalas/auth/otp-login",function(){return n(5533)}])},5533:function(e,a,n){"use strict";n.r(a);var i=n(5893),s=n(7294),t=n(9008),c=n.n(t),l=n(8295),o=n(2838),r=n(3553),u=n(9655),p=n(6316),f=n(5353);a.default=()=>{let[e,a]=(0,s.useState)(null),[n,t]=(0,s.useState)(""),[h,w]=(0,s.useState)(""),[z,x]=(0,s.useState)(!1),[g,d]=(0,s.useState)(null),{breakDownUrl:Z}=(0,u.ZN)(),{onSignUp:_}=(0,o.ZP)(),{updateUserData:j}=(0,r.Z)(),k=e=>{let a="/pizzawalas/auth/signup",n="/pizzawalas/auth/login";if(e.queries){let i;let s=0;for(i in e.queries)a="".concat(a).concat(0===s?"?":"&").concat(i,"=").concat(e.queries[i]),n="".concat(n).concat(0===s?"?":"&").concat(i,"=").concat(e.queries[i]),s++}t(a),w(n)},A=async()=>{let e=window.location.href,n=await Z(e);k(n),n.queries&&n.queries.amx&&a(n.queries.amx)};return(0,s.useEffect)(()=>{A()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c(),{children:[(0,i.jsx)("title",{children:"Pizzawala's | Login"}),(0,i.jsx)("link",{rel:"icon",href:"/pizzawalas/favicon.ico"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/pizzawalas/apple-touch-icon.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/pizzawalas/favicon-32x32.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/pizzawalas/favicon-16x16.png"}),(0,i.jsx)("link",{rel:"manifest",href:"/pizzawalas/site.webmanifest"})]}),(0,i.jsx)(l.Z,{type:"PIZZAWALA",children:z?(0,i.jsx)(f.Z,{authType:"LOGIN",user:g,handleSuccess:e=>{let a=e.accessToken,i={...e,signupUrl:n};_(a,i,"PIZZAWALAS"),j(i,a,"PIZZAWALAS"),window.location.href="/pizzawalas/user/overview"},storeId:e}):(0,i.jsx)(p.Z,{storeId:e,handleSuccess:e=>{d(e),x(!0)},signupUrl:n,loginUrl:h})})]})}}},function(e){e.O(0,[664,775,601,452,774,888,179],function(){return e(e.s=6566)}),_N_E=e.O()}]);