(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{5750:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pizzawalas/user/profile",function(){return s(3838)}])},3838:function(e,l,s){"use strict";s.r(l);var i=s(5893),a=s(6264),c=s(1421),n=s(7953),d=s(1096),r=s(2838),t=s(9655),o=s(3553),m=s(7294);l.default=()=>{let{userData:e,advancedData:l,token:s,updateUserData:u}=(0,r.ZP)(),x=(0,d.ZP)(),[b,h]=(0,m.useState)(!1),{apiGet:N}=(0,t.kL)(),{updateUserStorageData:f}=(0,o.Z)(),p=()=>{h(!1)},v=async()=>{var e,l;let i;let a="".concat(n.kh.qubriuxAPI,"/consumer/info");try{i=await N(a,s)}catch(e){console.log("err: ",e)}console.log("resp: ",i),(null===(l=i)||void 0===l?void 0:null===(e=l.message)||void 0===e?void 0:e.toLowerCase())==="success"&&u(null,i.body)},j=e=>{let l={...e};u(l),f(l,s)};return(0,m.useEffect)(()=>{l||v()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"container-fluid px-0 qb-vh-100 qb-user-overflow-wrapper qb-profile-page-wrapper",children:(0,i.jsx)("div",{className:"qb-user-container",children:(0,i.jsx)("div",{className:"container-fluid px-0",children:(0,i.jsx)("div",{className:"row gy-3",children:(0,i.jsx)("div",{className:"col-12",children:(0,i.jsxs)("div",{className:"qb-basic-card p-4",children:[(0,i.jsxs)("div",{className:"w-100 d-flex align-items-center",children:[(0,i.jsx)("div",{className:"qb-initials-wrapper d-flex align-items-center justify-content-center pe-3",children:(0,i.jsx)("div",{className:"qb-initials-wrap d-flex align-items-center justify-content-center",children:(0,i.jsx)("h6",{className:"qb-initials-text mb-0 text-uppercase",children:null==e?void 0:e.initials})})}),(0,i.jsxs)("div",{className:"flex-fill d-flex flex-column",children:[(0,i.jsx)("h1",{className:"qb-title mb-0",children:null==e?void 0:e.name}),(null==l?void 0:l.customerSince)?(0,i.jsxs)("p",{className:"qb-tag mb-0 fw-light pb-1",children:["Customer since: ",l.customerSince]}):null,(null==l?void 0:l.tierName)?(0,i.jsx)("div",{className:"qb-tag-bubble-wrap d-flex",children:(0,i.jsx)("h6",{className:"qb-tag-bubble-text mb-0",children:l.tierName})}):null]})]}),(0,i.jsxs)("div",{className:"w-100 d-flex",children:[(0,i.jsx)("div",{className:"qb-initials-buffer"}),(0,i.jsx)("div",{className:"flex-fill ps-3",children:(0,i.jsx)("div",{className:"container-fluid px-0 pt-4",children:(0,i.jsxs)("div",{className:"row gy-3 gx-4",children:[(0,i.jsxs)("div",{className:"col-md-6 col-lg-4 col-xl-3",children:[(0,i.jsx)("h6",{className:"qb-title mb-0 fw-bold",children:"Email"}),(0,i.jsx)("p",{className:"qb-desc mb-0 pb-3 text-truncate",children:null==e?void 0:e.email})]}),(0,i.jsxs)("div",{className:"col-md-6 col-lg-4 col-xl-2",children:[(0,i.jsx)("h6",{className:"qb-title mb-0 fw-bold",children:"Phone"}),(0,i.jsxs)("p",{className:"qb-desc mb-0 pb-3 text-truncate",children:["+",null==e?void 0:e.phoneNo]})]}),(null==l?void 0:l.countryName)?(0,i.jsxs)("div",{className:"col-md-6 col-lg-4 col-xl-2",children:[(0,i.jsx)("h6",{className:"qb-title mb-0 fw-bold",children:"Country"}),(0,i.jsx)("p",{className:"qb-desc mb-0 pb-3 text-truncate",children:null==l?void 0:l.countryName})]}):null,(null==l?void 0:l.tierName)?(0,i.jsxs)("div",{className:"col-md-6 col-lg-4 col-xl-2",children:[(0,i.jsx)("h6",{className:"qb-title mb-0 fw-bold",children:"Loyalty tier"}),(0,i.jsx)("p",{className:"qb-desc mb-0 pb-3 text-truncate",children:null==l?void 0:l.tierName})]}):null,(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("div",{className:"w-100 d-flex flex-column align-items-end",children:(0,i.jsx)(a.g,{onClick:()=>{h(!0)},children:"Edit profile"})})})]})})})]})]})})})})})}),(0,i.jsx)(c.Z,{isVisible:b,handleBackdropClick:p,user:e,advancedData:l,handleSuccess:l=>{let s=JSON.parse(l),i={...e};i.name=s.name,j(i),p(),x.triggerToast("Profile updated!","Yaay! Your profile details has beeen updated successfully.","SUCCESS"),v()}})]})}}},function(e){e.O(0,[5775,1421,9774,2888,179],function(){return e(e.s=5750)}),_N_E=e.O()}]);