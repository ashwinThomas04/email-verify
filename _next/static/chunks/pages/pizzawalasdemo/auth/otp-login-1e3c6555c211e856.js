(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{1115:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pizzawalasdemo/auth/otp-login",function(){return i(5484)}])},5484:function(e,n,i){"use strict";i.r(n);var a=i(5893),s=i(7294),t=i(9008),c=i.n(t),l=i(8295),o=i(2838),r=i(3553),u=i(9655),p=i(6316),f=i(5353);n.default=()=>{let[e,n]=(0,s.useState)(null),[i,t]=(0,s.useState)(""),[h,w]=(0,s.useState)(""),[x,z]=(0,s.useState)(!1),[d,g]=(0,s.useState)(null),{breakDownUrl:_}=(0,u.ZN)(),{onSignUp:j}=(0,o.ZP)(),{updateUserData:k}=(0,r.Z)(),m=e=>{let n="/auth/signup",i="/auth/login";if(e.queries){let a;let s=0;for(a in e.queries)n="".concat(n).concat(0===s?"?":"&").concat(a,"=").concat(e.queries[a]),i="".concat(i).concat(0===s?"?":"&").concat(a,"=").concat(e.queries[a]),s++}t(n),w(i)},Z=async()=>{let e=window.location.href,i=await _(e);m(i),i.queries&&i.queries.amx&&n(i.queries.amx)};return(0,s.useEffect)(()=>{Z()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:"Pizzawala's | Login"}),(0,a.jsx)("link",{rel:"icon",href:"/pizzawalas/favicon.ico"}),(0,a.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/pizzawalas/apple-touch-icon.png"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/pizzawalas/favicon-32x32.png"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/pizzawalas/favicon-16x16.png"}),(0,a.jsx)("link",{rel:"manifest",href:"/pizzawalas/site.webmanifest"})]}),(0,a.jsx)(l.Z,{type:"PIZZAWALA",children:x?(0,a.jsx)(f.Z,{authType:"LOGIN",user:d,handleSuccess:e=>{let n=e.accessToken,a={...e,signupUrl:i};j(n,a),k(a,n),window.location.href="/user/overview"},storeId:e}):(0,a.jsx)(p.Z,{storeId:e,handleSuccess:e=>{g(e),z(!0)},signupUrl:i,loginUrl:h})})]})}}},function(e){e.O(0,[664,775,601,452,774,888,179],function(){return e(e.s=1115)}),_N_E=e.O()}]);