(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8310],{1115:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pizzawalasdemo/auth/otp-login",function(){return a(5484)}])},5484:function(e,n,a){"use strict";a.r(n);var i=a(5893),s=a(7294),t=a(9008),c=a.n(t),l=a(8295),o=a(2838),r=a(3553),u=a(9655),p=a(5785),f=a(5353);n.default=()=>{let[e,n]=(0,s.useState)(null),[a,t]=(0,s.useState)(""),[h,w]=(0,s.useState)(""),[x,z]=(0,s.useState)(!1),[d,g]=(0,s.useState)(null),{breakDownUrl:_}=(0,u.ZN)(),{onSignUp:j}=(0,o.ZP)(),{updateUserStorageData:k}=(0,r.Z)(),m=e=>{let n="/auth/signup",a="/auth/login";if(e.queries){let i;let s=0;for(i in e.queries)n="".concat(n).concat(0===s?"?":"&").concat(i,"=").concat(e.queries[i]),a="".concat(a).concat(0===s?"?":"&").concat(i,"=").concat(e.queries[i]),s++}t(n),w(a)},Z=async()=>{let e=CONFIG.storeMap.PIZZAWALA.amx,a=window.location.href,i=await _(a);m(i),i.queries&&i.queries.amx?n(i.queries.amx):n(e)};return(0,s.useEffect)(()=>{Z()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c(),{children:[(0,i.jsx)("title",{children:"Pizzawala's | Login"}),(0,i.jsx)("link",{rel:"icon",href:"/pizzawalas/favicon.ico"}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/pizzawalas/apple-touch-icon.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/pizzawalas/favicon-32x32.png"}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/pizzawalas/favicon-16x16.png"}),(0,i.jsx)("link",{rel:"manifest",href:"/pizzawalas/site.webmanifest"})]}),(0,i.jsx)(l.Z,{type:"PIZZAWALA",children:x?(0,i.jsx)(f.Z,{authType:"LOGIN",user:d,handleSuccess:e=>{let n=e.accessToken,i={...e,signupUrl:a};j(n,i),k(i,n),window.location.href="/user/overview"},storeId:e}):(0,i.jsx)(p.Z,{storeId:e,handleSuccess:e=>{g(e),z(!0)},signupUrl:a,loginUrl:h,isUSNumber:!0})})]})}}},function(e){e.O(0,[1664,3582,6211,8248,9774,2888,179],function(){return e(e.s=1115)}),_N_E=e.O()}]);