(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7063],{9817:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/static/whatsapp",function(){return t(8602)}])},1499:function(e,n,t){"use strict";t.d(n,{N:function(){return r}});var o=t(5893),a=t(7294);let c=null,s=null,i=(e,n,t,o)=>{window.removeEventListener("message",l);let a="toolbar=no, menubar=no, width=600, height=900, top=100, left=100";null===c||c.closed?c=window.open(e,n,a):s!==e?(c=window.open(e,n,a)).focus():c.focus(),window.addEventListener("message",e=>o(e,t),!1),s=e},l=(e,n)=>{let t=window.location.search;if(t&&(t=t.split("?")[1]),console.log("params: ",t),e.origin!=n||"object"==typeof e.data)return;let{data:o}=e,a="".concat(o).concat(t?"&".concat(t):"");console.log("params: ",a),window.location.search=a};var r=e=>{let{className:n,partnerId:t,callback:c,requestedNumber:s,label:l="Connect 360dialog",env:r="prod",queryParameters:d,...p}=e,[u,h]=(0,a.useState)(""),w=()=>{let e="local"===r&&"http://0.0.0.0:8082"||"staging"===r&&"https://admin.hub-staging.360dialog.io"||"rc"===r&&"https://rc-admin.360dialog.io"||"https://hub.360dialog.com",n=s?"".concat(e,"/dashboard/app/").concat(t,"/permissions?number=").concat(s):"".concat(e,"/dashboard/app/").concat(t,"/permissions");if(d){let e=Object.values(d),t=e.map(e=>e?encodeURIComponent(e):"");t&&Object.keys(d).forEach((e,o)=>{0!==o||s?n+="&".concat(e,"=").concat(t[o]):n+="?".concat(e,"=").concat(t[o])})}return n},g=(e,n)=>{var t=RegExp("[\\?&]"+(n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(e);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};(0,a.useEffect)(()=>{let e=w();h(e)},[r,s,d]),(0,a.useEffect)(()=>{let e=window.location.search,n=g(e,"client"),t=g(e,"channels"),o=g(e,"revoked");if(n&&t){let e=t.substring(1,t.length-1).split(","),a={client:n,channels:e};if(o){let e=o.substring(1,o.length-1).split(",");a.revokedChannels=e}c(a)}window.opener&&(window.opener.postMessage(e),console.log("Params:",e),window.close())},[]);let f=e=>{let{data:n}=e,t=g(n,"client"),o=g(n,"channels"),a=g(n,"revoked");if(t&&o){let e=o.substring(1,o.length-1).split(","),n={client:t,channels:e};if(a){let e=a.substring(1,a.length-1).split(",");n.revokedChannels=e}c(n)}};return(0,o.jsx)("button",{className:n||"360dialog-connect-button",onClick:()=>{i(u,"connect-360dialog",window.location.origin,f)},...p,children:l})}},8602:function(e,n,t){"use strict";t.r(n);var o=t(5893),a=t(1499);t(7294);var c=t(6835),s=t(5202);n.default=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{opacity:"0 !important",pointerEvents:"none !important",position:"fixed"},children:(0,o.jsx)(a.N,{partnerId:s.kh.partnerId360,callback:e=>{},queryParameters:{redirect_url:"https://".concat(s.kh.qfferBase,"/static/whatsapp")}})}),(0,o.jsx)(c.Z,{removePreloader:!1,loaderType:"GENERIC"})]})}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=9817)}),_N_E=e.O()}]);