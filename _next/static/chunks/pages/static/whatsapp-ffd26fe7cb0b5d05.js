(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7063],{1755:function(e,n,t){"use strict";var o=t(7294),r=o&&"object"==typeof o&&"default"in o?o.default:o,a=null,i=null,s=function(e,n){e.origin==n&&"object"!=typeof e.data&&(window.location.search=""+e.data)},c=["className","partnerId","callback","requestedNumber","label","env","queryParameters"];n.ConnectButton=function(e){var n=e.className,t=e.partnerId,u=e.callback,l=e.requestedNumber,d=e.label,p=void 0===d?"Connect 360dialog":d,f=e.env,h=void 0===f?"prod":f,w=e.queryParameters,b=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n.indexOf(t=a[o])>=0||(r[t]=e[t]);return r}(e,c),m=o.useState(""),v=m[0],g=m[1],E=function(e,n){var t=RegExp("[\\?&]"+(n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(e);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};return o.useEffect(function(){g(function(){var e=("local"===h?"http://0.0.0.0:8082":"staging"===h&&"https://admin.hub-staging.360dialog.io")||"rc"===h&&"https://rc-admin.360dialog.io"||"https://hub.360dialog.com",n=l?e+"/dashboard/app/"+t+"/permissions?number="+l:e+"/dashboard/app/"+t+"/permissions";if(w){var o=Object.values(w).map(function(e){return e?encodeURIComponent(e):""});o&&Object.keys(w).forEach(function(e,t){n=0!==t||l?n+"&"+e+"="+o[t]:n+"?"+e+"="+o[t]})}return n}())},[h,l,w]),o.useEffect(function(){var e=window.location.search,n=E(e,"client"),t=E(e,"channels"),o=E(e,"revoked");if(n&&t){var r={client:n,channels:t.substring(1,t.length-1).split(",")};if(o){var a=o.substring(1,o.length-1).split(",");r.revokedChannels=a}u(r)}window.opener&&(window.opener.postMessage(e),window.close())},[]),r.createElement("button",Object.assign({className:n||"360dialog-connect-button",onClick:function(){var e,n,t;return e="connect-360dialog",n=window.location.origin,window.removeEventListener("message",s),t="toolbar=no, menubar=no, width=600, height=900, top=100, left=100",void(null===a||a.closed?a=window.open(v,e,t):i!==v?(a=window.open(v,e,t)).focus():a.focus(),window.addEventListener("message",function(e){return s(e,n)},!1),i=v)}},b),p)}},9540:function(e,n,t){"use strict";e.exports=t(1755)},9817:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/static/whatsapp",function(){return t(8602)}])},8602:function(e,n,t){"use strict";t.r(n);var o=t(5893),r=t(9540);t(7294);var a=t(6835),i=t(5202);n.default=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{opacity:"0 !important",pointerEvents:"none !important",position:"fixed"},children:(0,o.jsx)(r.ConnectButton,{partnerId:i.kh.partnerId360,callback:e=>{},queryParameters:{redirect_url:"https://".concat(i.kh.qfferBase,"/static/whatsapp")}})}),(0,o.jsx)(a.Z,{removePreloader:!1,loaderType:"GENERIC"})]})}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=9817)}),_N_E=e.O()}]);